(()=>{"use strict";const e=e=>(5*(e-32)/9).toFixed(1),t=e=>{const t=e.toLowerCase();return t.includes("sunny")||t.includes("clear")?t.includes("night")?"wi-night-clear":"wi-day-sunny":t.includes("cloudy")||t.includes("intermittent")||t.includes("partly")?t.includes("night")?"wi-night-alt-cloudy":"wi-day-cloudy":t.includes("rain")||t.includes("showers")||t.includes("storms")?"wi-rain":t.includes("snow")||t.includes("flurries")?"wi-snow":t.includes("sleet")||t.includes("ice")?"wi-sleet":t.includes("wind")||t.includes("breezy")?"wi-windy":t.includes("fog")||t.includes("hazy")?"wi-fog":""},n=e=>(5*(e-32)/9).toFixed(1),o="X5Sip7uKIkUGYS3EZUnarLLlYZRdRWAg",a=document.getElementById("searchQuery");async function r(a){try{const r=`https://dataservice.accuweather.com/locations/v1/cities/search?apikey=${o}&q=${encodeURIComponent(a)}`,c=await fetch(r);if(!c.ok)throw new Error("Network response was not ok");const i=await c.json();if(0===i.length)return void console.error("No locations found for the search query");const s=i[0].Key,l=`https://dataservice.accuweather.com/forecasts/v1/daily/5day/${s}?apikey=${o}&details=true`,u=await fetch(l);if(!u.ok)throw new Error("Network response was not ok");const d=`https://dataservice.accuweather.com/forecasts/v1/hourly/12hour/${s}?apikey=${o}`,m=await fetch(d);if(!m.ok)throw new Error("Network response was not ok");const y=await m.json(),h=await u.json();h.location=i[0],(e=>{const o=document.querySelector(".weekly-forecast__icon"),a=document.getElementById("currentWeatherCity"),r=document.getElementById("currentWeatherDegrees"),c=document.getElementById("currentWeatherCondition"),i=document.getElementById("currentWeatherRainProbability"),s=document.getElementById("currentWeatherLowHigh"),l=document.getElementById("currentWeatherUV");a.textContent=e.location.LocalizedName,r.textContent=`${n(e.DailyForecasts[0].Temperature.Minimum.Value)}°C`,c.textContent=e.DailyForecasts[0].Day.IconPhrase,i.textContent=`${e.DailyForecasts[0].Day.PrecipitationProbability}% Probability of Rain`,s.textContent=`${n(e.DailyForecasts[0].Temperature.Minimum.Value)}°C Low / ${n(e.DailyForecasts[0].Temperature.Maximum.Value)}°C High`;const u=e.DailyForecasts[0].Day.IconPhrase,d=t(u);var m;o.className=`weekly-forecast__icon wi ${d}`,e.DailyForecasts[1].AirAndPollen.find((e=>"UVIndex"===e.Name)).Value,l.textContent=(m=e.DailyForecasts[0].AirAndPollen[5].Value)>=0&&m<=2?`Low UV Levels ${m}`:m>=3&&m<=5?`Moderate UV Levels ${m}`:m>=6&&m<=7?`High UV Levels ${m}`:m>=8&&m<=10?`Very High UV Levels ${m}`:m>=11?`Extreme UV Levels ${m}`:`Unknown UV Levels ${m}`})(h),(n=>{const o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];for(let a=1;a<=4;a++){const r=document.getElementById(`forecastDay${a}`),c=n.DailyForecasts[a],i=r.querySelector(".weekly-forecast__weekday"),s=r.querySelector(".weekly-forecast__condition"),l=r.querySelector(".weekly-forecast__degrees"),u=r.querySelector(".weekly-forecast__icon"),d=o[new Date(c.Date).getDay()];i.textContent=d,s.textContent=c.Day.IconPhrase,l.textContent=`${e(c.Temperature.Minimum.Value)}°C Low / ${e(c.Temperature.Maximum.Value)}°C High`;const m=t(c.Day.IconPhrase);u.className=`weekly-forecast__icon wi ${m}`}})(h),(e=>{const t=e.DailyForecasts[0].Temperature.Maximum.Value,n=e.DailyForecasts[0].Temperature.Minimum.Value,o=Math.round(Math.exp(17.625*n/(243.04+n))/Math.exp(17.625*t/(243.04+t))*100);document.getElementById("humidity").textContent=`${o}%`})(h),function(e){const n=document.querySelector(".hourly-forecast__timeline");n.textContent="";for(let o=0;o<12;o++){const a=e[o],r=new Date(a.DateTime).toLocaleTimeString("en-US",{hour:"numeric"}),c=a.IconPhrase,i=`wi ${t(c)}`,s=(5*(Math.round(a.Temperature.Value)-32)/9).toFixed(1),l=document.createElement("div");l.className="hourly-forecast__item";const u=document.createElement("div");u.className="hourly-forecast__time",u.textContent=r;const d=document.createElement("div");d.className="hourly-forecast__condition";const m=document.createElement("span");m.textContent=c;const y=document.createElement("i");y.className=i;const h=document.createElement("div");h.className="hourly-forecast__degrees",h.textContent=`${s}°C`,d.appendChild(m),d.appendChild(document.createElement("br")),d.appendChild(y),l.appendChild(u),l.appendChild(d),l.appendChild(h),n.appendChild(l)}}(y)}catch(e){console.error("There was a problem with the fetch operation:",e)}}document.getElementById("searchForm").addEventListener("submit",(e=>{e.preventDefault(),r(a.value)})),r("Chicago")})();